Feature: シナリオ×キャラクター関係管理
  TRPGシナリオ作成アプリのユーザーとして
  シナリオ内でキャラクターを作成し、その関係性を管理したい
  シナリオごとに異なるキャラクター関係を扱えるようにするため

  Background:
    Given アプリケーションを開いている
    And テスト用のシナリオ "冒険の始まり" が存在する

  Scenario: シナリオ内でキャラクターを新規作成して追加する
    When シナリオ "冒険の始まり" の詳細ページを開く
    And "登場キャラクター" セクションを表示する
    And プロンプトで "勇者" [説明: "世界を救う勇者", 役割: "主人公" ] を入力準備する
    And "キャラクターを作成" ボタンをクリックする
    Then 登場キャラクター一覧に "勇者" (役割: "主人公") が表示される

  Scenario: シナリオ内でキャラクターの役割を更新する
    Given シナリオ "冒険の始まり" にキャラクター "姫" (役割: "依頼人") が登録されている
    When シナリオ "冒険の始まり" の詳細ページを開く
    And プロンプトで役割 "協力者" を入力準備する
    And 登場キャラクター "姫" の編集ボタンをクリックする
    Then 登場キャラクター一覧に "姫" (役割: "協力者") が表示される